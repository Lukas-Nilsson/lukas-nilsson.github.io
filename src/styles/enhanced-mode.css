/* =========================================
   ENHANCED VISUAL MODE
   Animated colorful backgrounds with depth
   Inspired by v2 liquid glass design
   ========================================= */

/* Enhanced mode root colors and variables */
[data-visual-mode="enhanced"] {
  /* Light mode enhanced colors */
  --enhanced-bg-base: #f0f4f8;
  --enhanced-bg-accent: #e0e7ff;
  --enhanced-blue: #dbeafe;
  --enhanced-purple: #ede9fe;
  --enhanced-pink: #fce7f3;
  --enhanced-yellow: #fef3c7;
}

[data-visual-mode="enhanced"][data-theme="dark"] {
  /* Dark mode enhanced colors */
  --enhanced-bg-base: #0f172a;
  --enhanced-bg-secondary: #1e293b;
  --enhanced-bg-tertiary: #334155;
  --enhanced-blue: rgba(59, 130, 246, 0.15);
  --enhanced-purple: rgba(147, 51, 234, 0.12);
  --enhanced-pink: rgba(236, 72, 153, 0.1);
  --enhanced-yellow: rgba(251, 191, 36, 0.08);
}

/* =========================================
   ANIMATED BACKGROUND LAYER
   ========================================= */

[data-visual-mode="enhanced"]::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  z-index: -1;
  pointer-events: none;
  
  /* Light mode: Soft colorful gradients */
  background: 
    radial-gradient(
      ellipse 80% 60% at 20% 30%,
      var(--enhanced-blue) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse 60% 80% at 80% 70%,
      var(--enhanced-purple) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse 100% 40% at 50% 10%,
      var(--enhanced-pink) 0%,
      transparent 60%
    ),
    radial-gradient(
      ellipse 70% 50% at 30% 90%,
      var(--enhanced-yellow) 0%,
      transparent 45%
    ),
    linear-gradient(
      135deg,
      var(--enhanced-bg-base) 0%,
      var(--enhanced-bg-accent) 25%,
      var(--enhanced-bg-base) 50%,
      var(--enhanced-bg-accent) 75%,
      var(--enhanced-bg-base) 100%
    );
  
  /* Smooth floating animation */
  animation: enhancedFloat 30s ease-in-out infinite;
  
  /* Performance optimizations */
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  will-change: auto;
  contain: layout style paint;
}

/* Dark mode enhanced background */
[data-visual-mode="enhanced"][data-theme="dark"]::before {
  background: 
    radial-gradient(
      ellipse 80% 60% at 20% 30%,
      var(--enhanced-blue) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse 60% 80% at 80% 70%,
      var(--enhanced-purple) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse 100% 40% at 50% 10%,
      var(--enhanced-pink) 0%,
      transparent 60%
    ),
    radial-gradient(
      ellipse 70% 50% at 30% 90%,
      var(--enhanced-yellow) 0%,
      transparent 45%
    ),
    linear-gradient(
      135deg,
      var(--enhanced-bg-base) 0%,
      var(--enhanced-bg-secondary) 25%,
      var(--enhanced-bg-tertiary) 50%,
      var(--enhanced-bg-secondary) 75%,
      var(--enhanced-bg-base) 100%
    );
  
  /* Subtle ambient occlusion */
  box-shadow: 
    inset 0 0 100px rgba(0, 0, 0, 0.4),
    inset 0 0 50px rgba(59, 130, 246, 0.05);
}

/* =========================================
   FLOATING PARTICLES LAYER
   ========================================= */

[data-visual-mode="enhanced"]::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  z-index: -1;
  pointer-events: none;
  
  background: 
    radial-gradient(
      circle at 15% 20%,
      rgba(59, 130, 246, 0.1) 0%,
      transparent 30%
    ),
    radial-gradient(
      circle at 85% 80%,
      rgba(147, 51, 234, 0.08) 0%,
      transparent 25%
    ),
    radial-gradient(
      circle at 50% 60%,
      rgba(236, 72, 153, 0.06) 0%,
      transparent 20%
    ),
    radial-gradient(
      circle at 70% 40%,
      rgba(251, 191, 36, 0.05) 0%,
      transparent 20%
    );
  
  animation: particleFloat 35s ease-in-out infinite;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}

[data-visual-mode="enhanced"][data-theme="dark"]::after {
  background: 
    radial-gradient(
      circle at 15% 20%,
      rgba(59, 130, 246, 0.15) 0%,
      transparent 30%
    ),
    radial-gradient(
      circle at 85% 80%,
      rgba(147, 51, 234, 0.12) 0%,
      transparent 25%
    ),
    radial-gradient(
      circle at 50% 60%,
      rgba(236, 72, 153, 0.1) 0%,
      transparent 20%
    ),
    radial-gradient(
      circle at 70% 40%,
      rgba(251, 191, 36, 0.08) 0%,
      transparent 20%
    );
}

/* =========================================
   ANIMATIONS
   ========================================= */

@keyframes enhancedFloat {
  0%, 100% {
    transform: translate3d(0, 0, 0) scale(1);
    filter: hue-rotate(0deg);
  }
  25% {
    transform: translate3d(2px, -3px, 0) scale(1.001);
    filter: hue-rotate(5deg);
  }
  50% {
    transform: translate3d(-2px, 2px, 0) scale(0.999);
    filter: hue-rotate(-3deg);
  }
  75% {
    transform: translate3d(1px, -1px, 0) scale(1.0005);
    filter: hue-rotate(2deg);
  }
}

@keyframes particleFloat {
  0%, 100% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0.6;
  }
  33% {
    transform: translate3d(3px, -2px, 0) scale(1.02);
    opacity: 0.8;
  }
  66% {
    transform: translate3d(-2px, 3px, 0) scale(0.98);
    opacity: 0.7;
  }
}

/* =========================================
   REDUCED MOTION SUPPORT
   ========================================= */

@media (prefers-reduced-motion: reduce) {
  [data-visual-mode="enhanced"]::before,
  [data-visual-mode="enhanced"]::after {
    animation: none !important;
    filter: none !important;
  }
}

/* =========================================
   ENHANCED MODE ADJUSTMENTS
   ========================================= */

/* Slightly enhance nav blur in enhanced mode */
[data-visual-mode="enhanced"] .nav-pill,
[data-visual-mode="enhanced"] .nav-mobile-toggle {
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
}

/* Enhance card glass effects */
[data-visual-mode="enhanced"] .project-card,
[data-visual-mode="enhanced"] .content-page {
  position: relative;
}

/* Subtle depth enhancement for content */
[data-visual-mode="enhanced"] .content-container {
  position: relative;
  z-index: 1;
}

/* =========================================
   GRADIENT TEXT ON HEADINGS
   ========================================= */

/* Only apply to content headings, not the main title */
[data-visual-mode="enhanced"] .content-page h1,
[data-visual-mode="enhanced"] .content-page h2,
[data-visual-mode="enhanced"] .projects-title {
  background: linear-gradient(
    135deg,
    #667eea 0%,
    #764ba2 25%,
    #f093fb 50%,
    #4facfe 75%,
    #667eea 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientShift 8s ease infinite;
}

[data-visual-mode="enhanced"] .content-page h2 {
  background: linear-gradient(
    135deg,
    #4facfe 0%,
    #00f2fe 50%,
    #4facfe 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientShift 6s ease infinite;
}

@keyframes gradientShift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Dark mode: brighter gradients */
[data-visual-mode="enhanced"][data-theme="dark"] .content-page h1,
[data-visual-mode="enhanced"][data-theme="dark"] .projects-title {
  background: linear-gradient(
    135deg,
    #818cf8 0%,
    #a78bfa 25%,
    #f0abfc 50%,
    #60a5fa 75%,
    #818cf8 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-visual-mode="enhanced"][data-theme="dark"] .content-page h2 {
  background: linear-gradient(
    135deg,
    #60a5fa 0%,
    #38bdf8 50%,
    #60a5fa 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* =========================================
   ANIMATED GRADIENT LINKS
   ========================================= */

/* Only apply to content links, not navigation */
[data-visual-mode="enhanced"] .content-page a {
  position: relative;
  background: linear-gradient(
    135deg,
    #667eea 0%,
    #764ba2 50%,
    #667eea 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  transition: all 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

/* Breadcrumb links - keep text readable, no gradient */
[data-visual-mode="enhanced"] .breadcrumb-link {
  color: var(--color-text-muted);
  transition: all 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

[data-visual-mode="enhanced"] .breadcrumb-link:hover {
  color: var(--color-accent);
  background: rgba(0, 0, 0, 0.05);
}

[data-visual-mode="enhanced"][data-theme="dark"] .breadcrumb-link:hover {
  color: var(--color-accent);
  background: rgba(255, 255, 255, 0.08);
}

[data-visual-mode="enhanced"] .content-page a::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(
    90deg,
    #667eea 0%,
    #764ba2 50%,
    #f093fb 100%
  );
  background-size: 200% 100%;
  opacity: 0.5;
  transform: scaleX(0);
  transform-origin: center;
  transition: all 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

[data-visual-mode="enhanced"] .content-page a:hover::after {
  transform: scaleX(1);
  opacity: 1;
  animation: gradientSlide 2s ease infinite;
}

@keyframes gradientSlide {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Dark mode links: brighter */
[data-visual-mode="enhanced"][data-theme="dark"] .content-page a {
  background: linear-gradient(
    135deg,
    #818cf8 0%,
    #a78bfa 50%,
    #818cf8 100%
  );
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* =========================================
   GLASS CARDS WITH COLORED BORDERS
   ========================================= */

/* Simple approach: just add subtle animated border to project cards */
[data-visual-mode="enhanced"] .project-card {
  border-color: rgba(102, 126, 234, 0.2);
  transition: border-color 300ms ease;
}

[data-visual-mode="enhanced"] .project-card:hover {
  border-color: rgba(102, 126, 234, 0.4);
}

[data-visual-mode="enhanced"][data-theme="dark"] .project-card {
  border-color: rgba(129, 140, 248, 0.2);
}

[data-visual-mode="enhanced"][data-theme="dark"] .project-card:hover {
  border-color: rgba(129, 140, 248, 0.4);
}

/* Ensure project card text is always visible - override any gradient text */
[data-visual-mode="enhanced"] .project-card h3,
[data-visual-mode="enhanced"] .project-card p,
[data-visual-mode="enhanced"] .project-link h3,
[data-visual-mode="enhanced"] .project-link p {
  background: none !important;
  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  -webkit-text-fill-color: initial !important;
  color: var(--color-text) !important;
}

/* =========================================
   FLOATING SHADOWS WITH COLOR
   ========================================= */

[data-visual-mode="enhanced"] .project-card {
  box-shadow: 
    0 8px 24px rgba(102, 126, 234, 0.08),
    0 16px 48px rgba(118, 75, 162, 0.05);
}

[data-visual-mode="enhanced"] .project-card:hover {
  box-shadow: 
    0 12px 32px rgba(102, 126, 234, 0.12),
    0 24px 64px rgba(118, 75, 162, 0.08);
}

[data-visual-mode="enhanced"][data-theme="dark"] .project-card {
  box-shadow: 
    0 8px 24px rgba(129, 140, 248, 0.1),
    0 16px 48px rgba(167, 139, 250, 0.08);
}

[data-visual-mode="enhanced"][data-theme="dark"] .project-card:hover {
  box-shadow: 
    0 12px 32px rgba(129, 140, 248, 0.15),
    0 24px 64px rgba(167, 139, 250, 0.12);
}

/* =========================================
   RAINBOW HOVER STATES
   ========================================= */

[data-visual-mode="enhanced"] button:not(.nav-link):not(.visual-mode-toggle):not(.nav-mobile-toggle):not(.nav-mobile-visual-toggle) {
  position: relative;
  transition: all 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

[data-visual-mode="enhanced"] button:hover:not(.nav-link):not(.visual-mode-toggle):not(.nav-mobile-toggle):not(.nav-mobile-visual-toggle) {
  background: linear-gradient(
    135deg,
    rgba(102, 126, 234, 0.1) 0%,
    rgba(118, 75, 162, 0.1) 100%
  ) !important;
}

/* Navigation link hover - keep text readable */
[data-visual-mode="enhanced"] .nav-link {
  color: var(--color-text-muted);
}

[data-visual-mode="enhanced"] .nav-link:hover,
[data-visual-mode="enhanced"] .nav-link.active {
  color: var(--color-text);
}

/* Dark mode navigation - ensure readability */
[data-visual-mode="enhanced"][data-theme="dark"] .nav-link {
  color: rgba(255, 255, 255, 0.7);
}

[data-visual-mode="enhanced"][data-theme="dark"] .nav-link:hover,
[data-visual-mode="enhanced"][data-theme="dark"] .nav-link.active {
  color: rgba(255, 255, 255, 1);
}

/* Dark mode: fully transparent nav capsule, just blur */
[data-visual-mode="enhanced"][data-theme="dark"] .nav-pill {
  background: rgba(0, 0, 0, 0) !important;
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Breadcrumb separator visibility */
[data-visual-mode="enhanced"] .breadcrumb-separator {
  color: var(--color-text-muted);
  opacity: 0.5;
}

/* Enhanced mobile menu glass effect */
[data-visual-mode="enhanced"] .nav-mobile-menu {
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(60px) saturate(150%);
  -webkit-backdrop-filter: blur(60px) saturate(150%);
  box-shadow: 4px 0 48px rgba(102, 126, 234, 0.15);
  border-right: 1px solid rgba(102, 126, 234, 0.2);
}

[data-visual-mode="enhanced"][data-theme="dark"] .nav-mobile-menu {
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(60px) saturate(150%);
  -webkit-backdrop-filter: blur(60px) saturate(150%);
  box-shadow: 4px 0 48px rgba(129, 140, 248, 0.2);
  border-right: 1px solid rgba(129, 140, 248, 0.2);
}

/* =========================================
   ANIMATED FOCUS RINGS
   ========================================= */

[data-visual-mode="enhanced"] *:focus-visible {
  outline: 2px solid transparent;
  outline-offset: 2px;
  box-shadow: 
    0 0 0 2px var(--color-bg),
    0 0 0 4px #667eea,
    0 0 16px rgba(102, 126, 234, 0.5);
  animation: focusPulse 2s ease infinite;
}

@keyframes focusPulse {
  0%, 100% {
    box-shadow: 
      0 0 0 2px var(--color-bg),
      0 0 0 4px #667eea,
      0 0 16px rgba(102, 126, 234, 0.5);
  }
  50% {
    box-shadow: 
      0 0 0 2px var(--color-bg),
      0 0 0 4px #764ba2,
      0 0 20px rgba(118, 75, 162, 0.6);
  }
}

/* =========================================
   COLORFUL TEXT SELECTION
   ========================================= */

[data-visual-mode="enhanced"] ::selection {
  background: linear-gradient(
    135deg,
    rgba(102, 126, 234, 0.3),
    rgba(118, 75, 162, 0.3)
  );
  color: inherit;
}

[data-visual-mode="enhanced"] ::-moz-selection {
  background: linear-gradient(
    135deg,
    rgba(102, 126, 234, 0.3),
    rgba(118, 75, 162, 0.3)
  );
  color: inherit;
}

/* =========================================
   CODE BLOCKS WITH GRADIENT ACCENTS
   ========================================= */

[data-visual-mode="enhanced"] pre,
[data-visual-mode="enhanced"] code {
  position: relative;
}

[data-visual-mode="enhanced"] pre::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(
    180deg,
    #667eea 0%,
    #764ba2 50%,
    #f093fb 100%
  );
  border-radius: 4px 0 0 4px;
}

[data-visual-mode="enhanced"] code:not(pre code) {
  background: linear-gradient(
    135deg,
    rgba(102, 126, 234, 0.1),
    rgba(118, 75, 162, 0.1)
  );
  border: 1px solid rgba(102, 126, 234, 0.2);
}

/* =========================================
   PARALLAX SCROLL EFFECT
   ========================================= */

[data-visual-mode="enhanced"]::before {
  animation: enhancedFloat 30s ease-in-out infinite, parallaxScroll 1s linear;
  animation-play-state: running, paused;
}

/* This will be controlled by JS for smooth parallax */

/* =========================================
   REDUCED MOTION OVERRIDES
   ========================================= */

@media (prefers-reduced-motion: reduce) {
  [data-visual-mode="enhanced"] h1,
  [data-visual-mode="enhanced"] h2,
  [data-visual-mode="enhanced"] a::after {
    animation: none !important;
  }
  
  [data-visual-mode="enhanced"] .project-card::before {
    animation: none !important;
  }
  
  [data-visual-mode="enhanced"] *:focus-visible {
    animation: none !important;
  }
}

